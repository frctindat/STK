function _createForOfIteratorHelper(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=_unsupportedIterableToArray(e))){var t=0,o=function(){};return{s:o,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,r,i=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){a=!0,r=e},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw r}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,o){return t&&_defineProperties(e.prototype,t),o&&_defineProperties(e,o),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{bj8i:function(e,t,o){"use strict";o.r(t),o.d(t,"EquipoModule",(function(){return C}));var n,r=o("tyNb"),i=o("3Pt+"),a=o("fXoL"),c=((n=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Db({type:n,selectors:[["app-sin-equipo"]],decls:2,vars:0,template:function(e,t){1&e&&(a.Mb(0,"h3"),a.fc(1,"Seleccione un Equipo"),a.Lb())},styles:[""]}),n),u=o("f/BU"),b=o("ofXK");function l(e,t){if(1&e){var o=a.Nb();a.Mb(0,"div",20),a.Mb(1,"div",21),a.Kb(2,"input",22),a.Lb(),a.Mb(3,"div",23),a.Kb(4,"input",24),a.Lb(),a.Mb(5,"div",23),a.Mb(6,"button",25),a.Ub("click",(function(){a.bc(o);var e=t.index;return a.Wb().onBorrarComponenteDelEquipo(e)})),a.fc(7,"X"),a.Lb(),a.Lb(),a.Lb()}2&e&&a.Xb("formGroupName",t.index)}var s,p=((s=function(){function e(t,o,n){_classCallCheck(this,e),this.RutaActiva=t,this.ServicioEquipos=o,this.Ruteo=n,this.bEdita=!0}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.RutaActiva.params.subscribe((function(t){e.id=+t.id,e.bEdita=null!=t.id,e.InitForm()}))}},{key:"InitForm",value:function(){var e=0,t="",o="",n="",r=0,a="",c=new i.b([]);if(this.bEdita){var u=this.ServicioEquipos.getUnEquipo(this.id);if(e=u.Id,t=u.Proveedor,o=u.Categ,n=u.Descripcion,r=u.PVenta,a=u.Foto,console.log(u),u.Componentes){var b,l=_createForOfIteratorHelper(u.Componentes);try{for(l.s();!(b=l.n()).done;){var s=b.value;c.push(new i.f({detalle:new i.d(s.detalle,i.r.required),cantidad:new i.d(s.cantidad,[i.r.required])}))}}catch(p){l.e(p)}finally{l.f()}}}this.FormEquipo=new i.f({Id:new i.d(e),Proveedor:new i.d(t,i.r.required),Categ:new i.d(o,i.r.required),Descripcion:new i.d(n,i.r.required),PVenta:new i.d(r),Foto:new i.d(a,i.r.required),Componentes:c}),console.log(this.FormEquipo.value)}},{key:"onSubmit",value:function(){console.log("onsumite"),this.bEdita?this.ServicioEquipos.ActualizaEquipo(this.id,this.FormEquipo.value):this.ServicioEquipos.AgregaEquipo(this.FormEquipo.value),this.Ruteo.navigate(["/equipos"])}},{key:"onAgregarComponente",value:function(){console.log("llega"),this.FormEquipo.get("Componentes").push(new i.f({detalle:new i.d(null,i.r.required),cantidad:new i.d(null,[i.r.required,i.r.pattern(/^[1-9]+[0-9]*$/)])}))}},{key:"onCancelarEdicion",value:function(){this.Ruteo.navigate(["/equipos"])}},{key:"onBorrarComponenteDelEquipo",value:function(e){this.FormEquipo.get("Componentes").removeAt(e)}},{key:"controls",get:function(){return this.FormEquipo.get("Componentes").controls}}]),e}()).\u0275fac=function(e){return new(e||s)(a.Jb(r.a),a.Jb(u.a),a.Jb(r.c))},s.\u0275cmp=a.Db({type:s,selectors:[["app-equipo-edit"]],decls:40,vars:4,consts:[[1,"row"],[1,"col-xs-12"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-success",3,"disabled"],["type","button",1,"btn","btn-danger",3,"click"],[1,"form-group"],["for","Provee"],["type","text","id","Provee","formControlName","Proveedor",1,"form-control"],["for","Categ"],["type","text","id","Categ","formControlName","Categ",1,"form-control"],["for","Foto"],["type","text","id","Foto","formControlName","Foto",1,"form-control"],["imagen",""],[1,"div"],[1,"img-responsive",3,"src"],["for","Descrip"],["type","text","id","Descrip","rows","6","formControlName","Descripcion",1,"form-control"],["formArrayName","Componentes",1,"col-xs-12"],["class","row","style","margin-top: 10px;",3,"formGroupName",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-success",3,"click"],[1,"row",2,"margin-top","10px",3,"formGroupName"],[1,"col-xs-8"],["type","text","formControlName","detalle",1,"form-control"],[1,"col-xs-2"],["type","number","formControlName","cantidad",1,"form-control"],[1,"btn","btn-danger",3,"click"]],template:function(e,t){if(1&e&&(a.Mb(0,"div",0),a.Mb(1,"div",1),a.Mb(2,"form",2),a.Ub("ngSubmit",(function(){return t.onSubmit()})),a.Mb(3,"div",0),a.Mb(4,"div",1),a.Mb(5,"button",3),a.fc(6," Guardar "),a.Lb(),a.Mb(7,"button",4),a.Ub("click",(function(){return t.onCancelarEdicion()})),a.fc(8," Cancelar "),a.Lb(),a.Lb(),a.Lb(),a.Kb(9,"br"),a.Mb(10,"div",0),a.Mb(11,"div",1),a.Mb(12,"div",5),a.Mb(13,"label",6),a.fc(14,"Proveedor"),a.Lb(),a.Kb(15,"input",7),a.Mb(16,"label",8),a.fc(17,"Categor\xeda"),a.Lb(),a.Kb(18,"input",9),a.Mb(19,"label",10),a.fc(20,"Im\xe1gen"),a.Lb(),a.Kb(21,"input",11,12),a.Lb(),a.Lb(),a.Mb(23,"div",13),a.Mb(24,"div",1),a.Kb(25,"img",14),a.Lb(),a.Lb(),a.Mb(26,"div",13),a.Mb(27,"div",1),a.Mb(28,"label",15),a.fc(29,"Descripci\xf3n"),a.Lb(),a.Mb(30,"textarea",16),a.fc(31,"                        "),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Mb(32,"div",0),a.Mb(33,"div",17),a.ec(34,l,8,1,"div",18),a.Kb(35,"hr"),a.Mb(36,"div",0),a.Mb(37,"div",1),a.Mb(38,"button",19),a.Ub("click",(function(){return t.onAgregarComponente()})),a.fc(39," Agregar "),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Lb()),2&e){var o=a.ac(22);a.zb(2),a.Xb("formGroup",t.FormEquipo),a.zb(3),a.Xb("disabled",!t.FormEquipo.valid),a.zb(20),a.Xb("src",o.value,a.cc),a.zb(9),a.Xb("ngForOf",t.controls)}},directives:[i.s,i.k,i.g,i.a,i.j,i.e,i.c,b.h,i.h,i.n],styles:["input.ng-invalid.ng-touched[_ngcontent-%COMP%], textarea.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}"]}),s),d=o("bLb/"),f=o("kI2M");function m(e,t){if(1&e&&(a.Mb(0,"li",10),a.fc(1),a.Lb()),2&e){var o=t.$implicit;a.zb(1),a.ic(" ",o.detalle,": ",o.cantidad," ")}}var v,g,h,y=[{path:"",component:c},{path:"nuevo",component:p},{path:":id",component:(v=function(){function e(t,o,n,r){_classCallCheck(this,e),this.SrvComponente=t,this.SrvEquipo=o,this.RutaActiva=n,this.RutaDestino=r}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.RutaActiva.params.subscribe((function(t){e.oEquipoDetalle=e.SrvEquipo.getUnEquipo(+t.id)}))}},{key:"onAgregarComponentesALista",value:function(){this.SrvComponente.addComponentesDeEquipo(this.oEquipoDetalle.Componentes)}},{key:"onEditar",value:function(){this.RutaDestino.navigate(["editar"],{relativeTo:this.RutaActiva})}},{key:"onBorrarEquipo",value:function(){this.SrvEquipo.BorrarEquipo(this.id)}}]),e}(),v.\u0275fac=function(e){return new(e||v)(a.Jb(d.a),a.Jb(u.a),a.Jb(r.a),a.Jb(r.c))},v.\u0275cmp=a.Db({type:v,selectors:[["app-equipos-detalle"]],decls:30,vars:4,consts:[[1,"row"],[1,"col-xs-12"],["alt","",1,"img-responsive",3,"src"],["appActivarMenu","",1,"btn-group"],["type","button",1,"btn","btn-primary","dropdown-toggle"],[1,"caret"],[1,"dropdown-menu"],[2,"cursor","pointer",3,"click"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"]],template:function(e,t){1&e&&(a.Mb(0,"div",0),a.Mb(1,"div",1),a.Kb(2,"img",2),a.Lb(),a.Lb(),a.Mb(3,"div",0),a.Mb(4,"div",1),a.Mb(5,"h1"),a.fc(6,"Detalle de equipo"),a.Lb(),a.Lb(),a.Lb(),a.Mb(7,"div",0),a.Mb(8,"div",1),a.Mb(9,"div",3),a.Mb(10,"button",4),a.fc(11," Gestionar "),a.Kb(12,"span",5),a.Lb(),a.Mb(13,"ul",6),a.Mb(14,"li"),a.Mb(15,"a",7),a.Ub("click",(function(){return t.onAgregarComponentesALista()})),a.fc(16,"Agregar componentes"),a.Lb(),a.Lb(),a.Mb(17,"li"),a.Mb(18,"a",7),a.Ub("click",(function(){return t.onEditar()})),a.fc(19,"Editar"),a.Lb(),a.Lb(),a.Mb(20,"li"),a.Mb(21,"a",7),a.Ub("click",(function(){return t.onBorrarEquipo()})),a.fc(22,"Eliminar"),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Mb(23,"div",0),a.Mb(24,"div",1),a.fc(25),a.Lb(),a.Lb(),a.Mb(26,"div",0),a.Mb(27,"div",1),a.Mb(28,"ul",8),a.ec(29,m,2,2,"li",9),a.Lb(),a.Lb(),a.Lb()),2&e&&(a.zb(2),a.Yb("src",t.oEquipoDetalle.Foto,a.cc),a.zb(23),a.ic(" ",t.oEquipoDetalle.Categ," / ",t.oEquipoDetalle.Descripcion," "),a.zb(4),a.Xb("ngForOf",t.oEquipoDetalle.Componentes))},directives:[f.a,b.h],styles:[""]}),v)},{path:":id/editar",component:p}],L=((g=function e(){_classCallCheck(this,e)}).\u0275mod=a.Hb({type:g}),g.\u0275inj=a.Gb({factory:function(e){return new(e||g)},imports:[[r.f.forChild(y)],r.f]}),g),M=o("VGdt"),C=((h=function e(){_classCallCheck(this,e)}).\u0275mod=a.Hb({type:h}),h.\u0275inj=a.Gb({factory:function(e){return new(e||h)},imports:[[r.f,M.a,i.p,L]]}),h)}}]);