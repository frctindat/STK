{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{bj8i:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,\"EquipoModule\",(function(){return equipos_module_EquipoModule}));var router=__webpack_require__(\"tyNb\"),fesm2015_forms=__webpack_require__(\"3Pt+\"),core=__webpack_require__(\"fXoL\");let sin_equipo_component_SinEquipoComponent=(()=>{class SinEquipoComponent{constructor(){}ngOnInit(){}}return SinEquipoComponent.ɵfac=function(t){return new(t||SinEquipoComponent)},SinEquipoComponent.ɵcmp=core.Db({type:SinEquipoComponent,selectors:[[\"app-sin-equipo\"]],decls:2,vars:0,template:function(rf,ctx){1&rf&&(core.Mb(0,\"h3\"),core.fc(1,\"Seleccione un Equipo\"),core.Lb())},styles:[\"\"]}),SinEquipoComponent})();var ServicioEquipos=__webpack_require__(\"f/BU\"),common=__webpack_require__(\"ofXK\");function EquipoEditComponent_div_34_Template(rf,ctx){if(1&rf){const _r5=core.Nb();core.Mb(0,\"div\",20),core.Mb(1,\"div\",21),core.Kb(2,\"input\",22),core.Lb(),core.Mb(3,\"div\",23),core.Kb(4,\"input\",24),core.Lb(),core.Mb(5,\"div\",23),core.Mb(6,\"button\",25),core.Ub(\"click\",(function(){core.bc(_r5);const i_r3=ctx.index;return core.Wb().onBorrarComponenteDelEquipo(i_r3)})),core.fc(7,\"X\"),core.Lb(),core.Lb(),core.Lb()}2&rf&&core.Xb(\"formGroupName\",ctx.index)}let equipo_edit_component_EquipoEditComponent=(()=>{class EquipoEditComponent{constructor(RutaActiva,ServicioEquipos,Ruteo){this.RutaActiva=RutaActiva,this.ServicioEquipos=ServicioEquipos,this.Ruteo=Ruteo,this.bEdita=!0}get controls(){return this.FormEquipo.get(\"Componentes\").controls}ngOnInit(){this.RutaActiva.params.subscribe(parametro=>{this.id=+parametro.id,this.bEdita=null!=parametro.id,this.InitForm()})}InitForm(){let Id=0,Provee=\"\",Categ=\"\",Descripcion=\"\",PVenta=0,Foto=\"\",ComponentesDelEquipo=new fesm2015_forms.b([]);if(this.bEdita){const oEquipo=this.ServicioEquipos.getUnEquipo(this.id);if(Id=oEquipo.Id,Provee=oEquipo.Proveedor,Categ=oEquipo.Categ,Descripcion=oEquipo.Descripcion,PVenta=oEquipo.PVenta,Foto=oEquipo.Foto,console.log(oEquipo),oEquipo.Componentes)for(let componente of oEquipo.Componentes)ComponentesDelEquipo.push(new fesm2015_forms.f({detalle:new fesm2015_forms.d(componente.detalle,fesm2015_forms.r.required),cantidad:new fesm2015_forms.d(componente.cantidad,[fesm2015_forms.r.required])}))}this.FormEquipo=new fesm2015_forms.f({Id:new fesm2015_forms.d(Id),Proveedor:new fesm2015_forms.d(Provee,fesm2015_forms.r.required),Categ:new fesm2015_forms.d(Categ,fesm2015_forms.r.required),Descripcion:new fesm2015_forms.d(Descripcion,fesm2015_forms.r.required),PVenta:new fesm2015_forms.d(PVenta),Foto:new fesm2015_forms.d(Foto,fesm2015_forms.r.required),Componentes:ComponentesDelEquipo}),console.log(this.FormEquipo.value)}onSubmit(){console.log(\"onsumite\"),this.bEdita?this.ServicioEquipos.ActualizaEquipo(this.id,this.FormEquipo.value):this.ServicioEquipos.AgregaEquipo(this.FormEquipo.value),this.Ruteo.navigate([\"/equipos\"])}onAgregarComponente(){console.log(\"llega\"),this.FormEquipo.get(\"Componentes\").push(new fesm2015_forms.f({detalle:new fesm2015_forms.d(null,fesm2015_forms.r.required),cantidad:new fesm2015_forms.d(null,[fesm2015_forms.r.required,fesm2015_forms.r.pattern(/^[1-9]+[0-9]*$/)])}))}onCancelarEdicion(){this.Ruteo.navigate([\"/equipos\"])}onBorrarComponenteDelEquipo(nIndice){this.FormEquipo.get(\"Componentes\").removeAt(nIndice)}}return EquipoEditComponent.ɵfac=function(t){return new(t||EquipoEditComponent)(core.Jb(router.a),core.Jb(ServicioEquipos.a),core.Jb(router.c))},EquipoEditComponent.ɵcmp=core.Db({type:EquipoEditComponent,selectors:[[\"app-equipo-edit\"]],decls:40,vars:4,consts:[[1,\"row\"],[1,\"col-xs-12\"],[3,\"formGroup\",\"ngSubmit\"],[\"type\",\"submit\",1,\"btn\",\"btn-success\",3,\"disabled\"],[\"type\",\"button\",1,\"btn\",\"btn-danger\",3,\"click\"],[1,\"form-group\"],[\"for\",\"Provee\"],[\"type\",\"text\",\"id\",\"Provee\",\"formControlName\",\"Proveedor\",1,\"form-control\"],[\"for\",\"Categ\"],[\"type\",\"text\",\"id\",\"Categ\",\"formControlName\",\"Categ\",1,\"form-control\"],[\"for\",\"Foto\"],[\"type\",\"text\",\"id\",\"Foto\",\"formControlName\",\"Foto\",1,\"form-control\"],[\"imagen\",\"\"],[1,\"div\"],[1,\"img-responsive\",3,\"src\"],[\"for\",\"Descrip\"],[\"type\",\"text\",\"id\",\"Descrip\",\"rows\",\"6\",\"formControlName\",\"Descripcion\",1,\"form-control\"],[\"formArrayName\",\"Componentes\",1,\"col-xs-12\"],[\"class\",\"row\",\"style\",\"margin-top: 10px;\",3,\"formGroupName\",4,\"ngFor\",\"ngForOf\"],[\"type\",\"button\",1,\"btn\",\"btn-success\",3,\"click\"],[1,\"row\",2,\"margin-top\",\"10px\",3,\"formGroupName\"],[1,\"col-xs-8\"],[\"type\",\"text\",\"formControlName\",\"detalle\",1,\"form-control\"],[1,\"col-xs-2\"],[\"type\",\"number\",\"formControlName\",\"cantidad\",1,\"form-control\"],[1,\"btn\",\"btn-danger\",3,\"click\"]],template:function(rf,ctx){if(1&rf&&(core.Mb(0,\"div\",0),core.Mb(1,\"div\",1),core.Mb(2,\"form\",2),core.Ub(\"ngSubmit\",(function(){return ctx.onSubmit()})),core.Mb(3,\"div\",0),core.Mb(4,\"div\",1),core.Mb(5,\"button\",3),core.fc(6,\" Guardar \"),core.Lb(),core.Mb(7,\"button\",4),core.Ub(\"click\",(function(){return ctx.onCancelarEdicion()})),core.fc(8,\" Cancelar \"),core.Lb(),core.Lb(),core.Lb(),core.Kb(9,\"br\"),core.Mb(10,\"div\",0),core.Mb(11,\"div\",1),core.Mb(12,\"div\",5),core.Mb(13,\"label\",6),core.fc(14,\"Proveedor\"),core.Lb(),core.Kb(15,\"input\",7),core.Mb(16,\"label\",8),core.fc(17,\"Categoría\"),core.Lb(),core.Kb(18,\"input\",9),core.Mb(19,\"label\",10),core.fc(20,\"Imágen\"),core.Lb(),core.Kb(21,\"input\",11,12),core.Lb(),core.Lb(),core.Mb(23,\"div\",13),core.Mb(24,\"div\",1),core.Kb(25,\"img\",14),core.Lb(),core.Lb(),core.Mb(26,\"div\",13),core.Mb(27,\"div\",1),core.Mb(28,\"label\",15),core.fc(29,\"Descripción\"),core.Lb(),core.Mb(30,\"textarea\",16),core.fc(31,\"                        \"),core.Lb(),core.Lb(),core.Lb(),core.Lb(),core.Mb(32,\"div\",0),core.Mb(33,\"div\",17),core.ec(34,EquipoEditComponent_div_34_Template,8,1,\"div\",18),core.Kb(35,\"hr\"),core.Mb(36,\"div\",0),core.Mb(37,\"div\",1),core.Mb(38,\"button\",19),core.Ub(\"click\",(function(){return ctx.onAgregarComponente()})),core.fc(39,\" Agregar \"),core.Lb(),core.Lb(),core.Lb(),core.Lb(),core.Lb(),core.Lb(),core.Lb(),core.Lb()),2&rf){const _r0=core.ac(22);core.zb(2),core.Xb(\"formGroup\",ctx.FormEquipo),core.zb(3),core.Xb(\"disabled\",!ctx.FormEquipo.valid),core.zb(20),core.Xb(\"src\",_r0.value,core.cc),core.zb(9),core.Xb(\"ngForOf\",ctx.controls)}},directives:[fesm2015_forms.s,fesm2015_forms.k,fesm2015_forms.g,fesm2015_forms.a,fesm2015_forms.j,fesm2015_forms.e,fesm2015_forms.c,common.h,fesm2015_forms.h,fesm2015_forms.n],styles:[\"input.ng-invalid.ng-touched[_ngcontent-%COMP%], textarea.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}\"]}),EquipoEditComponent})();var ServicioComponente=__webpack_require__(\"bLb/\"),activar_menu_directive=__webpack_require__(\"kI2M\");function EquiposDetalleComponent_li_29_Template(rf,ctx){if(1&rf&&(core.Mb(0,\"li\",10),core.fc(1),core.Lb()),2&rf){const Componente_r1=ctx.$implicit;core.zb(1),core.ic(\" \",Componente_r1.detalle,\": \",Componente_r1.cantidad,\" \")}}const vRutasEquipos=[{path:\"\",component:sin_equipo_component_SinEquipoComponent},{path:\"nuevo\",component:equipo_edit_component_EquipoEditComponent},{path:\":id\",component:(()=>{class EquiposDetalleComponent{constructor(SrvComponente,SrvEquipo,RutaActiva,RutaDestino){this.SrvComponente=SrvComponente,this.SrvEquipo=SrvEquipo,this.RutaActiva=RutaActiva,this.RutaDestino=RutaDestino}ngOnInit(){this.RutaActiva.params.subscribe(parametro=>{this.oEquipoDetalle=this.SrvEquipo.getUnEquipo(+parametro.id)})}onAgregarComponentesALista(){this.SrvComponente.addComponentesDeEquipo(this.oEquipoDetalle.Componentes)}onEditar(){this.RutaDestino.navigate([\"editar\"],{relativeTo:this.RutaActiva})}onBorrarEquipo(){this.SrvEquipo.BorrarEquipo(this.id)}}return EquiposDetalleComponent.ɵfac=function(t){return new(t||EquiposDetalleComponent)(core.Jb(ServicioComponente.a),core.Jb(ServicioEquipos.a),core.Jb(router.a),core.Jb(router.c))},EquiposDetalleComponent.ɵcmp=core.Db({type:EquiposDetalleComponent,selectors:[[\"app-equipos-detalle\"]],decls:30,vars:4,consts:[[1,\"row\"],[1,\"col-xs-12\"],[\"alt\",\"\",1,\"img-responsive\",3,\"src\"],[\"appActivarMenu\",\"\",1,\"btn-group\"],[\"type\",\"button\",1,\"btn\",\"btn-primary\",\"dropdown-toggle\"],[1,\"caret\"],[1,\"dropdown-menu\"],[2,\"cursor\",\"pointer\",3,\"click\"],[1,\"list-group\"],[\"class\",\"list-group-item\",4,\"ngFor\",\"ngForOf\"],[1,\"list-group-item\"]],template:function(rf,ctx){1&rf&&(core.Mb(0,\"div\",0),core.Mb(1,\"div\",1),core.Kb(2,\"img\",2),core.Lb(),core.Lb(),core.Mb(3,\"div\",0),core.Mb(4,\"div\",1),core.Mb(5,\"h1\"),core.fc(6,\"Detalle de equipo\"),core.Lb(),core.Lb(),core.Lb(),core.Mb(7,\"div\",0),core.Mb(8,\"div\",1),core.Mb(9,\"div\",3),core.Mb(10,\"button\",4),core.fc(11,\" Gestionar \"),core.Kb(12,\"span\",5),core.Lb(),core.Mb(13,\"ul\",6),core.Mb(14,\"li\"),core.Mb(15,\"a\",7),core.Ub(\"click\",(function(){return ctx.onAgregarComponentesALista()})),core.fc(16,\"Agregar componentes\"),core.Lb(),core.Lb(),core.Mb(17,\"li\"),core.Mb(18,\"a\",7),core.Ub(\"click\",(function(){return ctx.onEditar()})),core.fc(19,\"Editar\"),core.Lb(),core.Lb(),core.Mb(20,\"li\"),core.Mb(21,\"a\",7),core.Ub(\"click\",(function(){return ctx.onBorrarEquipo()})),core.fc(22,\"Eliminar\"),core.Lb(),core.Lb(),core.Lb(),core.Lb(),core.Lb(),core.Lb(),core.Mb(23,\"div\",0),core.Mb(24,\"div\",1),core.fc(25),core.Lb(),core.Lb(),core.Mb(26,\"div\",0),core.Mb(27,\"div\",1),core.Mb(28,\"ul\",8),core.ec(29,EquiposDetalleComponent_li_29_Template,2,2,\"li\",9),core.Lb(),core.Lb(),core.Lb()),2&rf&&(core.zb(2),core.Yb(\"src\",ctx.oEquipoDetalle.Foto,core.cc),core.zb(23),core.ic(\" \",ctx.oEquipoDetalle.Categ,\" / \",ctx.oEquipoDetalle.Descripcion,\" \"),core.zb(4),core.Xb(\"ngForOf\",ctx.oEquipoDetalle.Componentes))},directives:[activar_menu_directive.a,common.h],styles:[\"\"]}),EquiposDetalleComponent})()},{path:\":id/editar\",component:equipo_edit_component_EquipoEditComponent}];let equipos_ruteo_module_EquiposRuteoModule=(()=>{class EquiposRuteoModule{}return EquiposRuteoModule.ɵmod=core.Hb({type:EquiposRuteoModule}),EquiposRuteoModule.ɵinj=core.Gb({factory:function(t){return new(t||EquiposRuteoModule)},imports:[[router.f.forChild(vRutasEquipos)],router.f]}),EquiposRuteoModule})();var Componentes_Compartidos_module=__webpack_require__(\"VGdt\");let equipos_module_EquipoModule=(()=>{class EquipoModule{}return EquipoModule.ɵmod=core.Hb({type:EquipoModule}),EquipoModule.ɵinj=core.Gb({factory:function(t){return new(t||EquipoModule)},imports:[[router.f,Componentes_Compartidos_module.a,fesm2015_forms.p,equipos_ruteo_module_EquiposRuteoModule]]}),EquipoModule})()}}]);","extractedComments":[]}